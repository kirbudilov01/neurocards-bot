# üéØ –ß–µ–∫–ª–∏—Å—Ç: –ø–µ—Ä–µ–µ–∑–¥ –Ω–∞ —Å–≤–æ–π —Ö–æ—Å—Ç–∏–Ω–≥

## üìã –ß—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
- ‚úÖ [SELF_HOSTING.md](SELF_HOSTING.md) - **–ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è** (PostgreSQL, Nginx, systemd, MinIO/–ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ)
- ‚úÖ [QUICKSTART_VPS.md](QUICKSTART_VPS.md) - **–±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –∑–∞ 15 –º–∏–Ω—É—Ç**
- ‚úÖ [scripts/deploy_to_vps.sh](scripts/deploy_to_vps.sh) - **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –≤ 1 –∫–ª–∏–∫**
- ‚úÖ [scripts/update_vps.sh](scripts/update_vps.sh) - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞
- ‚úÖ [scripts/monitor_vps.sh](scripts/monitor_vps.sh) - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- ‚úÖ [scripts/backup_vps.sh](scripts/backup_vps.sh) - –±—ç–∫–∞–ø—ã –ë–î –∏ —Ñ–∞–π–ª–æ–≤
- ‚úÖ [app/services/local_storage.py](app/services/local_storage.py) - –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Ñ–∞–π–ª–æ–≤
- ‚úÖ [app/services/storage_factory.py](app/services/storage_factory.py) - –≤—ã–±–æ—Ä —Ç–∏–ø–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å (3 –ø—Ä–æ—Å—Ç—ã—Ö —à–∞–≥–∞)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π (–†–ï–ö–û–ú–ï–ù–î–£–ï–ú) ‚ö°

```bash
# 1. –°–æ–∑–¥–∞–π VPS (Hetzner CPX21 - ‚Ç¨4.51/–º–µ—Å)
#    https://www.hetzner.com/cloud
#    Ubuntu 24.04, 4GB RAM, —Å–∫–æ–ø–∏—Ä—É–π IP –∞–¥—Ä–µ—Å

# 2. –ó–∞–ø—É—Å—Ç–∏ —Å–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è
./scripts/deploy_to_vps.sh YOUR_SERVER_IP

# 3. –ù–∞—Å—Ç—Ä–æ–π webhook
curl -X POST "https://api.telegram.org/botBOT_TOKEN/setWebhook" \
  -d "url=https://YOUR_SERVER_IP:8443/webhook"

# –ì–æ—Ç–æ–≤–æ! üéâ
```

‚è±Ô∏è **–í—Ä–µ–º—è:** 10-15 –º–∏–Ω—É—Ç (–≤–∫–ª—é—á–∞—è —Å–æ–∑–¥–∞–Ω–∏–µ VPS)

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–æ–π (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å)

–°–ª–µ–¥—É–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ [SELF_HOSTING.md](SELF_HOSTING.md):

1. –°–æ–∑–¥–∞–π VPS
2. –ù–∞—Å—Ç—Ä–æ–π PostgreSQL
3. –£—Å—Ç–∞–Ω–æ–≤–∏ Python –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
4. –°–æ–∑–¥–∞–π systemd —Å–µ—Ä–≤–∏—Å—ã
5. –ù–∞—Å—Ç—Ä–æ–π Nginx
6. –ù–∞—Å—Ç—Ä–æ–π —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (MinIO –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ–µ)

‚è±Ô∏è **–í—Ä–µ–º—è:** 30-60 –º–∏–Ω—É—Ç

---

## üí∞ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∑–∞—Ç—Ä–∞—Ç

| –í–∞—Ä–∏–∞–Ω—Ç | –°—Ç–æ–∏–º–æ—Å—Ç—å | –ö–æ–Ω—Ç—Ä–æ–ª—å | –°–∫–æ—Ä–æ—Å—Ç—å |
|---------|-----------|----------|----------|
| **Self-Hosted VPS** | **~$5/–º–µ—Å** | ‚úÖ –ü–æ–ª–Ω—ã–π | ‚ö° –ë—ã—Å—Ç—Ä–æ |
| Render + Supabase | ~$25-30/–º–µ—Å | ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω | üê¢ –ú–µ–¥–ª–µ–Ω–Ω–µ–µ |

**–≠–∫–æ–Ω–æ–º–∏—è: $20-25/–º–µ—Å = $240-300/–≥–æ–¥** üéâ

---

## üõ†Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
```bash
# –ü—É—à–∏—à—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ GitHub
git add .
git commit -m "Update"
git push

# –û–±–Ω–æ–≤–ª—è–µ—à—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
./scripts/update_vps.sh YOUR_SERVER_IP
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```bash
# –°–º–æ—Ç—Ä–∏—à—å —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤, –ë–î, —Ä–µ—Å—É—Ä—Å—ã
./scripts/monitor_vps.sh YOUR_SERVER_IP
```

### –ë—ç–∫–∞–ø—ã
```bash
# –°–∫–∞—á–∏–≤–∞–µ—à—å –ë–î –∏ —Ñ–∞–π–ª—ã –ª–æ–∫–∞–ª—å–Ω–æ
./scripts/backup_vps.sh YOUR_SERVER_IP ./backups
```

### –õ–æ–≥–∏
```bash
# –ü–æ–¥–∫–ª—é—á–∞–µ—à—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh botuser@YOUR_SERVER_IP

# –°–º–æ—Ç—Ä–∏—à—å –ª–æ–≥–∏
sudo journalctl -u neurocards-bot -f           # –ë–æ—Ç
sudo journalctl -u neurocards-worker@1 -f      # Worker
```

### –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (–¥–ª—è –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏)
```bash
# –ó–∞–ø—É—Å–∫–∞–µ—à—å –Ω–µ—Å–∫–æ–ª—å–∫–æ worker'–æ–≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
ssh root@YOUR_SERVER_IP
systemctl enable neurocards-worker@{2..3}
systemctl start neurocards-worker@{2..3}

# –¢–µ–ø–µ—Ä—å 3 –≤–æ—Ä–∫–µ—Ä–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –∑–∞–¥–∞—á–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ!
```

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

1. **[QUICKSTART_VPS.md](QUICKSTART_VPS.md)** - –Ω–∞—á–Ω–∏ –æ—Ç—Å—é–¥–∞, –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –∑–∞ 15 –º–∏–Ω—É—Ç
2. **[SELF_HOSTING.md](SELF_HOSTING.md)** - –ø–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å–æ –≤—Å–µ–º–∏ –¥–µ—Ç–∞–ª—è–º–∏
3. **[PARALLEL_WORKERS.md](PARALLEL_WORKERS.md)** - –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è 100+ –≥–µ–Ω–µ—Ä–∞—Ü–∏–π/–¥–µ–Ω—å
4. **[DATABASE_MIGRATION.md](DATABASE_MIGRATION.md)** - –º–∏–≥—Ä–∞—Ü–∏—è –ë–î (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

---

## ‚úÖ –ß—Ç–æ –¥–∞–ª—å—à–µ?

### –°—Ä–∞–∑—É –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

1. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π Telegram webhook
2. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –±–æ—Ç–∞ (`/start`)
3. ‚úÖ –°–æ–∑–¥–∞–π —Ç–µ—Å—Ç–æ–≤–æ–µ –≤–∏–¥–µ–æ
4. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏
5. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π –±—ç–∫–∞–ø—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ï—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä—É–µ—à—å –≤—ã—Å–æ–∫—É—é –Ω–∞–≥—Ä—É–∑–∫—É:

1. ‚úÖ –ó–∞–ø—É—Å—Ç–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ worker'–æ–≤ (—Å–º. PARALLEL_WORKERS.md)
2. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã
3. ‚úÖ –ü–æ–¥–∫–ª—é—á–∏ –¥–æ–º–µ–Ω –∏ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ï—Å–ª–∏ —Ö–æ—á–µ—à—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç Supabase:

1. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (—É–∂–µ –≥–æ—Ç–æ–≤–æ –≤ –∫–æ–¥–µ)
2. ‚úÖ –ú–∏–≥—Ä–∏—Ä—É–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã
3. ‚úÖ –£–¥–∞–ª–∏ Supabase –ø—Ä–æ–µ–∫—Ç

---

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Self-Hosting

‚úÖ **–≠–∫–æ–Ω–æ–º–∏—è** - $20-25/–º–µ—Å –≤–º–µ—Å—Ç–æ $25-30  
‚úÖ **–°–∫–æ—Ä–æ—Å—Ç—å** - –≤—Å–µ –Ω–∞ –æ–¥–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ  
‚úÖ **–ö–æ–Ω—Ç—Ä–æ–ª—å** - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ  
‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –∑–∞–ø—É—Å–∫–∞–π —Å–∫–æ–ª—å–∫–æ —É–≥–æ–¥–Ω–æ worker'–æ–≤  
‚úÖ **–ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å** - –Ω–µ –∑–∞–≤–∏—Å–∏—à—å –æ—Ç –ª–∏–º–∏—Ç–æ–≤ Supabase/Render  
‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –≤—Å–µ–≥–æ  

---

## ‚ùì –í–æ–ø—Ä–æ—Å—ã?

- –ß–∏—Ç–∞–π [QUICKSTART_VPS.md](QUICKSTART_VPS.md) - —Ç–∞–º –≤—Å–µ –ø—Ä–æ—Å—Ç–æ –æ–±—ä—è—Å–Ω–µ–Ω–æ
- –ß–∏—Ç–∞–π [SELF_HOSTING.md](SELF_HOSTING.md) - —Ç–∞–º –≤—Å–µ –¥–µ—Ç–∞–ª–∏
- –°–æ–∑–¥–∞–≤–∞–π Issue –Ω–∞ GitHub

---

**–£–¥–∞—á–∏ —Å –ø–µ—Ä–µ–µ–∑–¥–æ–º! üöÄ**
